
> backend@1.0.0 test
> jest

[dotenv@17.2.3] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
08:50:57 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}
PASS integration __tests__/integration/timeout.test.js (13.59 s)
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:50:58 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:00 [32müîß Dev auth: Generated token for admin@trossapp.dev (admin)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [32müîß Dev auth: Generated token for admin@trossapp.dev (admin)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [32m‚úÖ GET /token?role=admin ‚Üí 200 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mQuery executed in 48ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:00 [32m‚úÖ GET /api/health ‚Üí 200 (51ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mQuery executed in 15ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [32m‚úÖ GET / ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:00 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 110ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (113ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 61ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (64ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 63ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (68ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 69ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (72ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 70ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (73ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 67ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (69ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 196ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (200ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 193ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (197ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 169ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (174ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mQuery executed in 184ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:01 [32m‚úÖ GET /api/health ‚Üí 200 (187ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:01 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:02 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:02 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:02 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:02 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [31mQuery error:[39m {"error":"canceling statement due to statement timeout","query":"SELECT pg_sleep(30)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 24ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:11 [32m‚úÖ GET /api/health ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 19ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:11 [32m‚úÖ GET /api/health ‚Üí 200 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 31ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 30ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:11 [32m‚úÖ GET /api/health ‚Üí 200 (32ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [32m‚úÖ GET / ‚Üí 200 (44ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:11 [32m‚úÖ GET /api/health ‚Üí 200 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/db/token-service-db.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:11 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [32mToken pair generated[39m {"userId":1,"tokenId":"9522adc7-8683-4501-bf84-acf045f4c058","ipAddress":"127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [31mQuery error:[39m {"error":"insert or update on table \"refresh_tokens\" violates foreign key constraint \"refresh_tokens_user_id_fkey\"","query":"INSERT INTO refresh_tokens \n         (token_id, user_id, token_hash, expires_at, ip_address, user_agent)\n         VALUES ($1, $2, $3, $4, $5, $6)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [31mError generating token pair[39m {"error":"insert or update on table \"refresh_tokens\" violates foreign key constraint \"refresh_tokens_user_id_fkey\"","userId":99999}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:11 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"afeb6c6a-b3f3-4671-a3eb-e0a2d3a40ce5","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"46a3e77b-264d-4488-9e68-55b2f3935859","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"28526f19-35ba-415c-b772-15f16bdfafa3","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"c8e48f27-1920-4684-820e-0a1b17690b4a","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"f22b2a47-6d88-48bb-8531-a402f199db92","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"37225384-29a4-449b-a29f-f0ff9c93adda","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"dd3574e2-3fe0-46be-a1f1-752273619341","ipAddress":"192.168.1.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mRefresh token revoked[39m {"tokenId":"37225384-29a4-449b-a29f-f0ff9c93adda","reason":"rotated"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mAccess token refreshed[39m {"userId":1,"oldTokenId":"37225384-29a4-449b-a29f-f0ff9c93adda","ipAddress":"192.168.1.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"d17401a4-b2d0-4fcf-b527-1307cf71cd38","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mToken pair generated[39m {"userId":1,"tokenId":"42c83765-08bf-46b2-89e5-ed4bd8f2b08f","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mRefresh token revoked[39m {"tokenId":"d17401a4-b2d0-4fcf-b527-1307cf71cd38","reason":"rotated"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [32mAccess token refreshed[39m {"userId":1,"oldTokenId":"d17401a4-b2d0-4fcf-b527-1307cf71cd38","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:12 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"cdfbd5fa-2af0-4006-92cf-5175454e2740","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [33mRefresh token not found or invalid[39m {"tokenId":"cdfbd5fa-2af0-4006-92cf-5175454e2740","userId":1}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [31mError refreshing token[39m {"error":"Invalid refresh token"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"1db69d26-136a-4d25-9fe1-ccfba38a0bd6","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [33mRefresh token not found or invalid[39m {"tokenId":"1db69d26-136a-4d25-9fe1-ccfba38a0bd6","userId":1}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [31mError refreshing token[39m {"error":"Invalid refresh token"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"78c2cfe2-e1d2-4885-84fa-d97fb6dc33a8","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [31mRefresh token hash mismatch[39m {"tokenId":"78c2cfe2-e1d2-4885-84fa-d97fb6dc33a8","userId":1}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [31mError refreshing token[39m {"error":"Invalid refresh token"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"a00c7c0e-a5a5-46c6-83b2-5b42d500374f","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mRefresh token revoked[39m {"tokenId":"a00c7c0e-a5a5-46c6-83b2-5b42d500374f","reason":"user_logout"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"2254ffd7-0bf9-4120-ae56-d224aa5ccaa5","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"50c64809-6ca2-41c3-8e8b-aa67578e0021","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"26032244-04ae-4be5-af16-d41263e0b155","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mAll user tokens revoked[39m {"userId":1,"reason":"security_breach","count":3}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mAll user tokens revoked[39m {"userId":1,"reason":"logout_all","count":0}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"7e7cd069-1958-4763-8cfc-9dff0bc6ba81","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mExpired tokens cleaned up[39m {"count":1}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [32mToken pair generated[39m {"userId":1,"tokenId":"fffc285d-48a7-4dc2-be2c-521d226e411a","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:13 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"efa5d876-8ab3-428a-acc8-0fa04dacca29","ipAddress":"127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"a97f8224-a1da-4e4f-ab50-ea6d94c4cc4c","ipAddress":"192.168.1.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"fa1ba23e-a61e-4ee6-9996-99e079432c5b","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:14 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 24ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"251569f8-9c91-499c-b920-87ee91f04d59","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:14 [34mQuery executed in 28ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"90cb62f7-16a6-4517-9f08-174783646f1c","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:14 [34mQuery executed in 29ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"3c46cd41-ad17-4366-a845-8100361d3f45","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:14 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      08:51:14 [32mToken pair generated[39m {"userId":1,"tokenId":"6aa1998b-db24-42dc-be69-7e4d869adc71","ipAddress":null}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      08:51:14 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/db/role-crud-db.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:14 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:15 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_coordinator_1762966275097_a6y42"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32mAudit event[39m {"userId":2,"action":"role_create","resourceType":"role","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32m‚úÖ POST / ‚Üí 201 (70ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "TEST_SUPERVISOR_1762966275201_ZFWWZ"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32m‚úÖ POST / ‚Üí 201 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_analyst_1762966275258_in542"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":8,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32m‚úÖ POST / ‚Üí 201 (34ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_analyst_1762966275258_in542"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [31mQuery error:[39m {"error":"duplicate key value violates unique constraint \"roles_name_key\"","query":"\n        INSERT INTO roles (name, priority)\n        VALUES ($1, $2)\n        RETURNING *\n      "}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [31mError creating role[39m {"error":"Role name already exists","roleName":"test_analyst_1762966275258_in542"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33m‚ö†Ô∏è  POST / ‚Üí 409 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Role name is required',
          path: [ 'name' ],
          type: 'any.required',
          context: { label: 'name', key: 'name' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:15 [33m‚ö†Ô∏è  POST / ‚Üí 400 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "   "
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Role name is required',
          path: [ 'name' ],
          type: 'string.empty',
          context: { label: 'name', value: '', key: 'name' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:15 [33m‚ö†Ô∏è  POST / ‚Üí 400 (22ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/","userId":1,"userRole":"client","resource":"roles","operation":"create"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33m‚ö†Ô∏è  POST / ‚Üí 403 (22ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33m‚ö†Ô∏è  POST / ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_updated_coordinator_1762966275549_g2ld6"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32mAudit event[39m {"userId":1,"action":"role_update","resourceType":"role","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32m‚úÖ PUT /6 ‚Üí 200 (43ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "TEST_UPDATED_SUPERVISOR_1762966275618_A4UH8"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32mAudit event[39m {"userId":1,"action":"role_update","resourceType":"role","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32m‚úÖ PUT /6 ‚Üí 200 (37ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_existing_role_1762966275680_86dyw"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":10,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [32m‚úÖ POST / ‚Üí 201 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_existing_role_1762966275680_86dyw"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [31mQuery error:[39m {"error":"duplicate key value violates unique constraint \"roles_name_key\"","query":"\n        UPDATE roles \n        SET name = $1\n        WHERE id = $2\n        RETURNING *\n      "}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [31mError updating role[39m {"error":"Role name already exists","roleId":"6"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33m‚ö†Ô∏è  PUT /6 ‚Üí 409 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'At least one field must be provided for update',
          path: [],
          type: 'object.min',
          context: { limit: 1, value: {}, label: 'value' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:15 [33m‚ö†Ô∏è  PUT /6 ‚Üí 400 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966275835_r2yv2"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33m‚ö†Ô∏è  PUT /99999 ‚Üí 404 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_auditor_1762966275896_hchkj"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [31mError updating role[39m {"error":"Cannot modify protected role","roleId":"1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [33m‚ö†Ô∏è  PUT /1 ‚Üí 400 (38ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_coordinator_1762966275966_f14tr"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:15 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [31mError updating role[39m {"error":"Cannot modify protected role","roleId":"5"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  PUT /5 ‚Üí 400 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/6","userId":1,"userRole":"client","resource":"roles","operation":"update"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  PUT /6 ‚Üí 403 (22ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276073_ldysg"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":11,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_delete","resourceType":"role","resourceId":11,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ DELETE /11 ‚Üí 200 (22ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276161_63tf8"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":12,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [31mError deleting role[39m {"error":"Role not found","roleId":"99999"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  DELETE /99999 ‚Üí 404 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276238_8cz6u"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":13,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [31mError deleting role[39m {"error":"Cannot delete protected role","roleId":"1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  DELETE /1 ‚Üí 400 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276317_6hkbu"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":14,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (32ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [31mError deleting role[39m {"error":"Cannot delete protected role","roleId":"5"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  DELETE /5 ‚Üí 400 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276398_3w1ji"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":15,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (35ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_auditor_1762966276440_12006"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":16,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-user-role_1762966276466_9samt@test.com",
        "first_name": "User",
        "last_name": "WithRole",
        "role_id": 16
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966275062@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-user-role_1762966276466_9samt@test.com",
        "first_name": "User",
        "last_name": "WithRole",
        "role_id": 16
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name', 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-user-role_1762966276466_9samt@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":2,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (34ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [31mError deleting role[39m {"error":"Cannot delete role: 1 user(s) are assigned to this role. Use force=true to proceed and set their role to NULL.","roleId":"16"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  DELETE /16 ‚Üí 400 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276547_gdvsw"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":17,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (32ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/17","userId":2,"userRole":"client","resource":"roles","operation":"delete"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  DELETE /17 ‚Üí 403 (19ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_observer_1762966276629_cyzha"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":18,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/18"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [33m‚ö†Ô∏è  DELETE /18 ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_coordinator_1762966276696_ulmig"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":19,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (34ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_supervisor_1762966276763_6t65p"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":20,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_updated_supervisor_1762966276763_ci8wh"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_update","resourceType":"role","resourceId":20,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ PUT /20 ‚Üí 200 (25ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test_analyst_1762966276859_a8mw2"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":21,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ POST / ‚Üí 201 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32mAudit event[39m {"userId":1,"action":"role_delete","resourceType":"role","resourceId":21,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [32m‚úÖ DELETE /21 ‚Üí 200 (22ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:16 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/users-api.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:17 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:17 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [33m‚ö†Ô∏è  GET / ‚Üí 401 (6ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [32m‚úÖ GET /?page=1&limit=5 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:17 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ GET /?page=1&limit=10&search=undefined ‚Üí 200 (18ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ GET /?page=1&limit=10&sortBy=email&sortOrder=ASC ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (15ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/undefined"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  GET /undefined ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"toSafeInteger","field":"id","value":"undefined","valueType":"string","reason":"Cannot convert to integer (parsed as NaN)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  GET /undefined ‚Üí 400 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"toSafeInteger","field":"id","value":"undefined","valueType":"string","reason":"Cannot convert to integer (parsed as NaN)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  GET /undefined ‚Üí 400 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  GET /99999 ‚Üí 404 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"toSafeInteger","field":"id","value":"invalid","valueType":"string","reason":"Cannot convert to integer (parsed as NaN)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  GET /invalid ‚Üí 400 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  POST / ‚Üí 401 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/","userId":2,"userRole":"technician","resource":"users","operation":"create"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  POST / ‚Üí 403 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966278187@example.com",
        "first_name": "New",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966278187@example.com",
        "first_name": "New",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966278187@example.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":3,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ POST / ‚Üí 201 (29ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966278224@example.com",
        "first_name": "Client",
        "last_name": "User",
        "role_id": 5
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966278224@example.com",
        "first_name": "Client",
        "last_name": "User",
        "role_id": 5
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name', 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966278224@example.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":4,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ POST / ‚Üí 201 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966278259@example.com",
        "first_name": "First",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966278259@example.com",
        "first_name": "First",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966278259@example.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":5,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ POST / ‚Üí 201 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966278259@example.com",
        "first_name": "Second",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966278259@example.com",
        "first_name": "Second",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966278259@example.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [31mQuery error:[39m {"error":"duplicate key value violates unique constraint \"users_email_key\"","query":"\n        INSERT INTO users (email, first_name, last_name, role_id, auth0_id, status) \n        VALUES ($1, $2, $3, $4, $5, $6) \n        RETURNING *\n      "}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [31mError creating user[39m {"error":"duplicate key value violates unique constraint \"users_email_key\"","email":"test-1762966278259@example.com"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [31mError creating user[39m {"error":"Email already exists","email":"test-1762966278259@example.com"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  POST / ‚Üí 409 (20ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 25ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "invalid-email",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "invalid-email",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: invalid-email Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Email must be a valid email address',
          path: [ 'email' ],
          type: 'string.email',
          context: {
            value: 'invalid-email',
            invalids: [Array],
            label: 'email',
            key: 'email'
          }
        },
        {
          message: '"email" with value "invalid-email" fails to match the required pattern: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9]+$/',
          path: [ 'email' ],
          type: 'string.pattern.base',
          context: {
            name: undefined,
            regex: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]+$/,
            value: 'invalid-email',
            label: 'email',
            key: 'email'
          }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:18 [33m‚ö†Ô∏è  POST / ‚Üí 400 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "first_name": "Test",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Test",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Email is required',
          path: [ 'email' ],
          type: 'any.required',
          context: { label: 'email', key: 'email' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:18 [33m‚ö†Ô∏è  POST / ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "  test-1762966278382@example.com  ",
        "first_name": "  Whitespace  ",
        "last_name": "  Test  "
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966277812@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "  test-1762966278382@example.com  ",
        "first_name": "  Whitespace  ",
        "last_name": "  Test  "
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value:   test-1762966278382@example.com   Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ POST / ‚Üí 201 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/8"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /8 ‚Üí 401 (6ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/9","userId":2,"userRole":"technician","resource":"users","operation":"update"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /9 ‚Üí 403 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "UpdatedFirst"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_update","resourceType":"user","resourceId":10,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ PUT /10 ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "last_name": "UpdatedLast"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_update","resourceType":"user","resourceId":11,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ PUT /11 ‚Üí 200 (32ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "is_active": false
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'is_active' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_update","resourceType":"user","resourceId":12,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ PUT /12 ‚Üí 200 (32ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Updated"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /99999 ‚Üí 404 (15ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Persisted",
        "last_name": "Update"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"user_update","resourceType":"user","resourceId":14,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ PUT /14 ‚Üí 200 (25ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ GET /14 ‚Üí 200 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/15/role"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /15/role ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/16/role","userId":2,"userRole":"technician","resource":"users","operation":"update"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /16/role ‚Üí 403 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32mAudit event[39m {"userId":1,"action":"role_assign","resourceType":"user","resourceId":17,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [32m‚úÖ PUT /17/role ‚Üí 200 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [31mError setting user role[39m {"error":"User not found","userId":99999,"roleId":2}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [31mError assigning role[39m {"error":"User not found","userId":"99999","roleId":2}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /99999/role ‚Üí 500 (18ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 99999
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /19/role ‚Üí 404 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": "invalid"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Role ID must be a number',
          path: [ 'role_id' ],
          type: 'number.base',
          context: { label: 'role_id', value: 'invalid', key: 'role_id' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:18 [33m‚ö†Ô∏è  PUT /20/role ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:18 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/21"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  DELETE /21 ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/22","userId":2,"userRole":"technician","resource":"users","operation":"delete"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  DELETE /22 ‚Üí 403 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32mAudit event[39m {"userId":1,"action":"user_delete","resourceType":"user","resourceId":23,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ DELETE /23 ‚Üí 200 (23ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  DELETE /99999 ‚Üí 404 (11ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"toSafeInteger","field":"id","value":"undefined","valueType":"string","reason":"Cannot convert to integer (parsed as NaN)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  DELETE /undefined ‚Üí 400 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32mAudit event[39m {"userId":1,"action":"user_delete","resourceType":"user","resourceId":26,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ DELETE /26 ‚Üí 200 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  GET /26 ‚Üí 404 (11ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  GET / ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"toSafeInteger","field":"limit","valueType":"undefined","reason":"Field is required but received undefined"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"validatePagination","field":"pagination","value":"{}","valueType":"object","reason":"limit is required","url":"/","method":"GET"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [33m‚ö†Ô∏è  GET / ‚Üí 400 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 24ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (37ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 45ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 58ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 59ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 54ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (68ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 14ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (89ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (88ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (82ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:19 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/roles-api.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:19 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:20 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  GET / ‚Üí 401 (6ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (29ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=3 ‚Üí 200 (15ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=10&sortBy=name&sortOrder=ASC ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  GET /1 ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=1 ‚Üí 200 (15ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /7 ‚Üí 200 (15ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  GET /99999 ‚Üí 404 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  Validation failure[39m {"validator":"toSafeInteger","field":"id","value":"invalid","valueType":"string","reason":"Cannot convert to integer (parsed as NaN)"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  GET /invalid ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/1/users"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  GET /1/users ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /?page=1&limit=1 ‚Üí 200 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /7/users?page=1&limit=10 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  POST / ‚Üí 401 (11ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/","userId":2,"userRole":"technician","resource":"roles","operation":"create"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  POST / ‚Üí 403 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test-role-1762966280665",
        "priority": 50,
        "description": "Test role"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name', 'priority', 'description' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":22,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ POST / ‚Üí 201 (19ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test-role-1762966280692",
        "priority": 50
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name', 'priority' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32mAudit event[39m {"userId":1,"action":"role_create","resourceType":"role","resourceId":23,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ POST / ‚Üí 201 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test-role-1762966280692",
        "priority": 60
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name', 'priority' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [31mQuery error:[39m {"error":"duplicate key value violates unique constraint \"roles_name_key\"","query":"\n        INSERT INTO roles (name, priority)\n        VALUES ($1, $2)\n        RETURNING *\n      "}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [31mError creating role[39m {"error":"Role name already exists","roleName":"test-role-1762966280692"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  POST / ‚Üí 409 (14ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 25ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "description": "Missing name and priority"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'description' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Role name is required',
          path: [ 'name' ],
          type: 'any.required',
          context: { label: 'name', key: 'name' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:20 [33m‚ö†Ô∏è  POST / ‚Üí 400 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "name": "test-role-1762966280780",
        "priority": 999
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'name', 'priority' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Priority cannot exceed 100',
          path: [ 'priority' ],
          type: 'number.max',
          context: { limit: 100, value: 999, label: 'priority', key: 'priority' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:20 [33m‚ö†Ô∏è  POST / ‚Üí 400 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/25"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  PUT /25 ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/26","userId":2,"userRole":"technician","resource":"roles","operation":"update"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  PUT /26 ‚Üí 403 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "description": "Updated description"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'description' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32mAudit event[39m {"userId":1,"action":"role_update","resourceType":"role","resourceId":27,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ PUT /27 ‚Üí 200 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "priority": 75
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'priority' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32mAudit event[39m {"userId":1,"action":"role_update","resourceType":"role","resourceId":28,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ PUT /28 ‚Üí 200 (26ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "description": "Updated"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'description' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [33m‚ö†Ô∏è  PUT /99999 ‚Üí 404 (14ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "description": "Persisted update",
        "priority": 80
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'description', 'priority' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32mAudit event[39m {"userId":1,"action":"role_update","resourceType":"role","resourceId":30,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ PUT /30 ‚Üí 200 (24ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:20 [32m‚úÖ GET /30 ‚Üí 200 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/31"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33m‚ö†Ô∏è  DELETE /31 ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/32","userId":2,"userRole":"technician","resource":"roles","operation":"delete"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33m‚ö†Ô∏è  DELETE /32 ‚Üí 403 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32mAudit event[39m {"userId":1,"action":"role_delete","resourceType":"role","resourceId":33,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ DELETE /33 ‚Üí 200 (26ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [31mError deleting role[39m {"error":"Role not found","roleId":"99999"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33m‚ö†Ô∏è  DELETE /99999 ‚Üí 404 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32mAudit event[39m {"userId":1,"action":"role_delete","resourceType":"role","resourceId":35,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ DELETE /35 ‚Üí 200 (26ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33m‚ö†Ô∏è  GET /35 ‚Üí 404 (11ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (17ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [33m‚ö†Ô∏è  GET / ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (16ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 21ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (36ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 40ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 49ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 57ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 69ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (67ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (78ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (86ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [32m‚úÖ GET /?page=1&limit=10 ‚Üí 200 (99ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:21 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/schema-api.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:21 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:22 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 27ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (39ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [33m‚ö†Ô∏è  GET / ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (21ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 21ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 44ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 43ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 62ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 64ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 23ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (71ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 27ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (73ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 27ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (93ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 29ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET / ‚Üí 200 (98ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 14ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 25ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 30ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /users ‚Üí 200 (42ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 22ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /roles ‚Üí 200 (31ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 15ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /nonexistent_table ‚Üí 200 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/users"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [33m‚ö†Ô∏è  GET /users ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 36ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /users ‚Üí 200 (52ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 14ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 15ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 29ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /users ‚Üí 200 (39ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 19ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 23ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 24ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /users ‚Üí 200 (36ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 18ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /users ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 14ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 18ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /users ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [32m‚úÖ GET /roles ‚Üí 200 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [32m‚úÖ GET /users/options/role_id ‚Üí 200 (51ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/users/options/role_id"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [33m‚ö†Ô∏è  GET /users/options/role_id ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [33m‚ö†Ô∏è  GET /users/options/email ‚Üí 400 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 15ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:22 [33m‚ö†Ô∏è  GET /nonexistent/options/column ‚Üí 400 (25ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:22 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:22 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:22 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET /users/options/role_id ‚Üí 200 (51ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET /users/options/role_id ‚Üí 200 (52ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET / ‚Üí 200 (14ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 18ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [32m‚úÖ GET /users ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 13ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 18ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET /users/options/role_id ‚Üí 200 (52ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET / ‚Üí 200 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 9ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET / ‚Üí 200 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 22ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 25ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 22ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 32ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [32m‚úÖ GET /users ‚Üí 200 (46ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 26ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 31ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      08:51:23 [34mQuery executed in 11ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:23 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      08:51:23 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      08:51:23 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:23 [32m‚úÖ GET /users/options/role_id ‚Üí 200 (73ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit __tests__/unit/services/token-service.test.js
PASS integration __tests__/integration/auth-api.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:25 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:25 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33m‚ö†Ô∏è  GET /me ‚Üí 401 (6ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ GET /me ‚Üí 200 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ GET /me ‚Üí 200 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ GET /me ‚Üí 200 (14ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ GET /me ‚Üí 200 (7ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ GET /me ‚Üí 200 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33mSecurity Event[39m {"event":"AUTH_INVALID_TOKEN","url":"/me","error":"invalid token"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33m‚ö†Ô∏è  GET /me ‚Üí 403 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33m‚ö†Ô∏è  PUT /me ‚Üí 401 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "UpdatedFirst"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ PUT /me ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "last_name": "UpdatedLast"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ PUT /me ‚Üí 200 (24ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "NewFirst",
        "last_name": "NewLast"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ PUT /me ‚Üí 200 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'At least one field must be provided for update',
          path: [],
          type: 'object.min',
          context: { limit: 1, value: {}, label: 'value' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:25 [33m‚ö†Ô∏è  PUT /me ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "hacker@example.com",
        "role": "admin"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'role' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: hacker@example.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [33m‚ö†Ô∏è  PUT /me ‚Üí 400 (14ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'First name cannot exceed 100 characters',
          path: [ 'first_name' ],
          type: 'string.max',
          context: {
            limit: 100,
            value: 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',
            encoding: undefined,
            label: 'first_name',
            key: 'first_name'
          }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:25 [33m‚ö†Ô∏è  PUT /me ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "PersistTest",
        "last_name": "Database"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ PUT /me ‚Üí 200 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ GET /me ‚Üí 200 (7ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "  SpaceTest  ",
        "last_name": "  User  "
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [32m‚úÖ PUT /me ‚Üí 200 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:25 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "",
        "last_name": ""
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'First name is required',
          path: [ 'first_name' ],
          type: 'string.empty',
          context: { label: 'first_name', value: '', key: 'first_name' }
        },
        {
          message: 'Last name is required',
          path: [ 'last_name' ],
          type: 'string.empty',
          context: { label: 'last_name', value: '', key: 'last_name' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:25 [33m‚ö†Ô∏è  PUT /me ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "O'Brien",
        "last_name": "Smith-Jones"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ PUT /me ‚Üí 200 (24ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (7ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33m‚ö†Ô∏è  GET /me ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33m‚ö†Ô∏è  GET /me ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (7ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 30ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (36ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 62ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (66ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 65ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (68ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 63ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (65ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 86ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (89ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ GET /me ‚Üí 200 (7ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "AdminUpdate"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ PUT /me ‚Üí 200 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "TechUpdate"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [32m‚úÖ PUT /me ‚Üí 200 (26ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33m‚ö†Ô∏è  GET /me ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33m‚ö†Ô∏è  GET /me ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/me"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [33m‚ö†Ô∏è  GET /me ‚Üí 401 (4ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:26 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/health-api.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:26 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:27 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (24ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 15ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (18ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (22ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/databases"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [33m‚ö†Ô∏è  GET /databases ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (11ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 58ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (60ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 31ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (33ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 33ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (35ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 35ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (37ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 36ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (38ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 36ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (38ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 105ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (108ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 102ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (104ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 127ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (129ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 124ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (127ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 17ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 10ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 20ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (32ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 24ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (37ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (29ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 16ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (39ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 15ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (43ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [32m‚úÖ GET /databases ‚Üí 200 (12ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 8ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:27 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      08:51:27 [32m‚úÖ GET /api/health ‚Üí 200 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/db/user-role-assignment.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:27 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:28 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-user_1762966288289_0beeb@test.com",
        "first_name": "Role",
        "last_name": "Test"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966288245@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-user_1762966288289_0beeb@test.com",
        "first_name": "Role",
        "last_name": "Test"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-user_1762966288289_0beeb@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 12ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"user_create","resourceType":"user","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ POST / ‚Üí 201 (46ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /6/role ‚Üí 200 (33ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 3
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /6/role ‚Üí 200 (33ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 3
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /6/role ‚Üí 200 (33ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 99999
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [33m‚ö†Ô∏è  PUT /6/role ‚Üí 404 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Role ID is required',
          path: [ 'role_id' ],
          type: 'any.required',
          context: { label: 'role_id', key: 'role_id' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:28 [33m‚ö†Ô∏è  PUT /6/role ‚Üí 400 (11ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/6/role","userId":5,"userRole":"client","resource":"users","operation":"update"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [33m‚ö†Ô∏è  PUT /6/role ‚Üí 403 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/6/role"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [33m‚ö†Ô∏è  PUT /6/role ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /6/role ‚Üí 200 (38ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "workflow_1762966288624_rsl1j@test.com",
        "first_name": "Workflow",
        "last_name": "Test"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966288245@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "workflow_1762966288624_rsl1j@test.com",
        "first_name": "Workflow",
        "last_name": "Test"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: workflow_1762966288624_rsl1j@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"user_create","resourceType":"user","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ POST / ‚Üí 201 (38ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /7/role ‚Üí 200 (34ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 3
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /7/role ‚Üí 200 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 2ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32mAudit event[39m {"userId":4,"action":"role_assign","resourceType":"user","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [32m‚úÖ PUT /7/role ‚Üí 200 (29ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": 2
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [31mError setting user role[39m {"error":"User not found","userId":99999,"roleId":2}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [31mError assigning role[39m {"error":"User not found","userId":"99999","roleId":2}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [33m‚ö†Ô∏è  PUT /99999/role ‚Üí 500 (18ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "role_id": "not-a-number"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'role_id' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Role ID must be a number',
          path: [ 'role_id' ],
          type: 'number.base',
          context: { label: 'role_id', value: 'not-a-number', key: 'role_id' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:28 [33m‚ö†Ô∏è  PUT /6/role ‚Üí 400 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:28 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/db/user-crud-lifecycle.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:29 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:29 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966289517-ndzd99bx0@test.com",
        "first_name": "Lifecycle",
        "last_name": "Test"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966289517-ndzd99bx0@test.com",
        "first_name": "Lifecycle",
        "last_name": "Test"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966289517-ndzd99bx0@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":3,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32m‚úÖ POST / ‚Üí 201 (44ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Updated",
        "last_name": "Lifecycle"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32mAudit event[39m {"userId":1,"action":"user_update","resourceType":"user","resourceId":3,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32m‚úÖ PUT /3 ‚Üí 200 (37ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 7ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32mAudit event[39m {"userId":1,"action":"user_delete","resourceType":"user","resourceId":3,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32m‚úÖ DELETE /3 ‚Üí 200 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 6ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966289704-wk8w16q4i@test.com",
        "first_name": "First",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966289704-wk8w16q4i@test.com",
        "first_name": "First",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966289704-wk8w16q4i@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":4,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32m‚úÖ POST / ‚Üí 201 (30ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966289704-wk8w16q4i@test.com",
        "first_name": "Second",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966289704-wk8w16q4i@test.com",
        "first_name": "Second",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966289704-wk8w16q4i@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [31mQuery error:[39m {"error":"duplicate key value violates unique constraint \"users_email_key\"","query":"\n        INSERT INTO users (email, first_name, last_name, role_id, auth0_id, status) \n        VALUES ($1, $2, $3, $4, $5, $6) \n        RETURNING *\n      "}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [31mError creating user[39m {"error":"duplicate key value violates unique constraint \"users_email_key\"","email":"test-1762966289704-wk8w16q4i@test.com"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [31mError creating user[39m {"error":"Email already exists","email":"test-1762966289704-wk8w16q4i@test.com"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33m‚ö†Ô∏è  POST / ‚Üí 409 (24ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient removed from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mNew database client connected to pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 27ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "first_name": "No",
        "last_name": "Email"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "No",
        "last_name": "Email"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Email is required',
          path: [ 'email' ],
          type: 'any.required',
          context: { label: 'email', key: 'email' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:29 [33m‚ö†Ô∏è  POST / ‚Üí 400 (33ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966289823-n2hujebbp@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966289823-n2hujebbp@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966289823-n2hujebbp@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":6,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [32m‚úÖ POST / ‚Üí 201 (33ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'At least one field must be provided for update',
          path: [],
          type: 'object.min',
          context: { limit: 1, value: {}, label: 'value' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      08:51:29 [33m‚ö†Ô∏è  PUT /6 ‚Üí 400 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Ghost"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33m‚ö†Ô∏è  PUT /99999 ‚Üí 404 (14ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33m‚ö†Ô∏è  DELETE /99999 ‚Üí 404 (13ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33m‚ö†Ô∏è  DELETE /1 ‚Üí 400 (8ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/","userId":2,"userRole":"client","resource":"users","operation":"create"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33m‚ö†Ô∏è  POST / ‚Üí 403 (10ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [33m‚ö†Ô∏è  POST / ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:29 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966289986-fse1ajcxq@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966289986-fse1ajcxq@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966289986-fse1ajcxq@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:29 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":7,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32m‚úÖ POST / ‚Üí 201 (28ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/7","userId":2,"userRole":"client","resource":"users","operation":"update"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33m‚ö†Ô∏è  PUT /7 ‚Üí 403 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966290040-qq5omxsa1@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966290040-qq5omxsa1@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966290040-qq5omxsa1@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 4ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":8,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32m‚úÖ POST / ‚Üí 201 (27ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33mSecurity Event[39m {"event":"AUTH_INSUFFICIENT_PERMISSION","url":"/8","userId":2,"userRole":"client","resource":"users","operation":"delete"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33m‚ö†Ô∏è  DELETE /8 ‚Üí 403 (9ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 5ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "test-1762966290093-qfp4m6a5p@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: test-1762966289460@test.com

      at log (routes/users.js:334:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "email": "test-1762966290093-qfp4m6a5p@test.com",
        "first_name": "Test",
        "last_name": "User"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'email', 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: test-1762966290093-qfp4m6a5p@test.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mQuery executed in 3ms[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32mAudit event[39m {"userId":1,"action":"user_create","resourceType":"user","resourceId":9,"result":"success","ipAddress":"::ffff:127.0.0.1"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32m‚úÖ POST / ‚Üí 201 (26ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33mSecurity Event[39m {"event":"AUTH_MISSING_TOKEN","url":"/9"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33m‚ö†Ô∏è  DELETE /9 ‚Üí 401 (5ms)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [34mClient acquired from pool[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration __tests__/integration/auth-flow.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      08:51:30 [32müß™ Using TEST database[39m {"host":"127.0.0.1","port":5433,"database":"trossapp_test"}

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      08:51:30 [32müîß Using Development Authentication Strategy (JWT with test users)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [33müîÑ AUTH_MODE changed: development ‚Üí auth0[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      08:51:30 [32müîê Using Auth0 Production Authentication Strategy (OAuth2/OIDC)[39m

      at Console.log (../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit __tests__/unit/routes/auth.validation.test.js
  ‚óè Console

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Test"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'At least one field must be provided for update',
          path: [],
          type: 'object.min',
          context: { limit: 1, value: {}, label: 'value' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Test"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [VALIDATOR] Incoming request body: {}

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: []

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation failed: [
        {
          message: 'Refresh token is required',
          path: [ 'refreshToken' ],
          type: 'any.required',
          context: { label: 'refreshToken', key: 'refreshToken' }
        }
      ]

      at log (validators/body-validators.js:41:13)

    console.log
      [VALIDATOR] Incoming request body: {
        "refreshToken": "expired-token"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'refreshToken' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "refreshToken": "invalid-token"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'refreshToken' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/users.crud.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "newuser@example.com",
        "first_name": "New",
        "last_name": "User",
        "role_id": 2
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "newuser@example.com",
        "first_name": "New",
        "last_name": "User"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "existing@example.com"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "user@example.com"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "user@example.com"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/roles.validation.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/auth.sessions.test.js
  ‚óè Console

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "refreshToken": "valid-refresh-token"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'refreshToken' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "refreshToken": "token"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'refreshToken' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/auth.crud.test.js
  ‚óè Console

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Updated",
        "last_name": "Name"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'last_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "NewName"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: undefined Type: undefined

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [VALIDATOR] Incoming request body: {
        "first_name": "Updated",
        "email": "hacker@evil.com",
        "role": "admin"
      }

      at log (validators/body-validators.js:31:11)

    console.log
      [VALIDATOR] Body keys: [ 'first_name', 'email', 'role' ]

      at log (validators/body-validators.js:32:11)

    console.log
      [VALIDATOR] Email value: hacker@evil.com Type: string

      at log (validators/body-validators.js:33:11)

    console.log
      [VALIDATOR] Validation passed!

      at log (validators/body-validators.js:53:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/services/auth.test.js
  ‚óè Console

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/users.validation.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "existing@example.com"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [USERS POST] Reached validator stage

      at log (routes/users.js:332:13)

    console.log
      [USERS POST] Body: {
        "email": "user@example.com"
      }

      at log (routes/users.js:333:13)

    console.log
      [USERS POST] User: admin@example.com

      at log (routes/users.js:334:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/roles.crud.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/auth-middleware-security.test.js
  ‚óè Console

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/schema.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/health.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/config/permissions-loader.test.js
  ‚óè Console

    console.log
      [Permissions] ‚úÖ Configuration validation passed

      at log (config/permissions-loader.js:133:11)

    console.log
      [Permissions] ‚úÖ Loaded permission config from C:\Users\zarik\OneDrive\Desktop\TrossApp\config\permissions.json

      at log (config/permissions-loader.js:52:13)

    console.log
      [Permissions] üìä Roles: 5

      at log (config/permissions-loader.js:53:13)

    console.log
      [Permissions] üìä Resources: 8

      at log (config/permissions-loader.js:54:13)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/validators/type-coercion.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/users.relationships.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/routes/roles.relationships.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/validators/middleware.test.js
  ‚óè Console

    console.log
      [ValidationLoader] ‚úÖ Loaded validation rules v1.0.0

      at log (utils/validation-loader.js:30:13)

    console.log
      [ValidationLoader] üìã Loaded validation rules v1.0.0

      at Object.log (validators/body-validators.js:19:11)

    console.log
      [ValidationLoader] üìä Available operations: createUser, updateUser, createRole, updateRole

      at Object.log (validators/body-validators.js:20:11)

    console.log
      [ValidationLoader] üéØ Policy: {"email":{"tldValidation":"permissive","description":"Accept any TLD format - no fascist restrictions! üöÄ"}}

      at Object.log (validators/body-validators.js:21:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/services/user-data.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (../node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/services/query-builder-service.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/models/User.crud.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/validators/query-validators.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/models/Role.validation.test.js
PASS unit __tests__/unit/models/User.validation.test.js
PASS unit __tests__/unit/app-config.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/middleware/timeout.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/utils/request-helpers.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/models/User.relationships.test.js
PASS unit __tests__/unit/config/constants.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/services/schema-introspection.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/validators/param-validators.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/services/pagination-service.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

FAIL unit __tests__/unit/models/Role.crud.test.js
  ‚óè Role Model - CRUD Operations ‚Ä∫ findById() ‚Ä∫ should return role by ID

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1",
    + "SELECT * FROM roles WHERE id = $1",
      [1],

    Number of calls: 1

    [0m [90m 81 |[39m
     [90m 82 |[39m       expect(result)[33m.[39mtoEqual(mockRole)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 84 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1"[39m[33m,[39m
     [90m 85 |[39m         [[35m1[39m][33m,[39m
     [90m 86 |[39m       )[33m;[39m[0m

      at Object.toHaveBeenCalledWith (__tests__/unit/models/Role.crud.test.js:83:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ findById() ‚Ä∫ should return undefined for non-existent role ID

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1",
    + "SELECT * FROM roles WHERE id = $1",
      [999],

    Number of calls: 1

    [0m [90m 94 |[39m
     [90m 95 |[39m       expect(result)[33m.[39mtoBeUndefined()[33m;[39m
    [31m[1m>[22m[39m[90m 96 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1"[39m[33m,[39m
     [90m 98 |[39m         [[35m999[39m][33m,[39m
     [90m 99 |[39m       )[33m;[39m[0m

      at Object.toHaveBeenCalledWith (__tests__/unit/models/Role.crud.test.js:96:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ getByName() ‚Ä∫ should return role by name (case-sensitive query)

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE name = $1",
    + "SELECT * FROM roles WHERE name = $1",
      ["admin"],

    Number of calls: 1

    [0m [90m 130 |[39m
     [90m 131 |[39m       expect(result)[33m.[39mtoEqual(mockRole)[33m;[39m
    [31m[1m>[22m[39m[90m 132 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 133 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE name = $1"[39m[33m,[39m
     [90m 134 |[39m         [[32m"admin"[39m][33m,[39m
     [90m 135 |[39m       )[33m;[39m[0m

      at Object.toHaveBeenCalledWith (__tests__/unit/models/Role.crud.test.js:132:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ update() ‚Ä∫ should update role name successfully

    expect(jest.fn()).toHaveBeenNthCalledWith(n, ...expected)

    n: 1
    Expected: "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1", [4]
    Received
    ->     1
              "SELECT * FROM roles WHERE id = $1",
              [4],
           2: "
            UPDATE roles¬∑
            SET name = $1
            WHERE id = $2
            RETURNING *
          ", ["senior_dispatcher", 4]

    Number of calls: 2

    [0m [90m 233 |[39m       expect(result)[33m.[39mtoEqual(updatedRole)[33m;[39m
     [90m 234 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 235 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenNthCalledWith(
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 236 |[39m         [35m1[39m[33m,[39m
     [90m 237 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1"[39m[33m,[39m
     [90m 238 |[39m         [[35m4[39m][33m,[39m[0m

      at Object.toHaveBeenNthCalledWith (__tests__/unit/models/Role.crud.test.js:235:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ delete() ‚Ä∫ should delete unprotected role with no assigned users

    expect(jest.fn()).toHaveBeenNthCalledWith(n, ...expected)

    n: 3
    Expected: "DELETE FROM roles WHERE id = $1 RETURNING id, name", [4]
    Received
           2: "SELECT COUNT(*) as count FROM users WHERE role_id = $1", [4]
    ->     3
              "DELETE FROM roles WHERE id = $1 RETURNING *",
              [4],

    Number of calls: 3

    [0m [90m 387 |[39m         [[35m4[39m][33m,[39m
     [90m 388 |[39m       )[33m;[39m
    [31m[1m>[22m[39m[90m 389 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenNthCalledWith(
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 390 |[39m         [35m3[39m[33m,[39m
     [90m 391 |[39m         [32m"DELETE FROM roles WHERE id = $1 RETURNING id, name"[39m[33m,[39m
     [90m 392 |[39m         [[35m4[39m][33m,[39m[0m

      at Object.toHaveBeenNthCalledWith (__tests__/unit/models/Role.crud.test.js:389:24)

PASS unit __tests__/unit/validators/validation-logger.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/config/timeouts.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/middleware/rate-limit.test.js
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops

      at _log (../node_modules/dotenv/lib/main.js:142:11)

PASS unit __tests__/unit/services/audit-service.validation.test.js
PASS unit __tests__/unit/models/Role.relationships.test.js
PASS unit __tests__/unit/services/audit-service.queries.test.js
PASS unit __tests__/unit/services/audit-service.crud.test.js

Summary of all failing tests
FAIL __tests__/unit/models/Role.crud.test.js
  ‚óè Role Model - CRUD Operations ‚Ä∫ findById() ‚Ä∫ should return role by ID

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1",
    + "SELECT * FROM roles WHERE id = $1",
      [1],

    Number of calls: 1

    [0m [90m 81 |[39m
     [90m 82 |[39m       expect(result)[33m.[39mtoEqual(mockRole)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 84 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1"[39m[33m,[39m
     [90m 85 |[39m         [[35m1[39m][33m,[39m
     [90m 86 |[39m       )[33m;[39m[0m

      at Object.toHaveBeenCalledWith (__tests__/unit/models/Role.crud.test.js:83:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ findById() ‚Ä∫ should return undefined for non-existent role ID

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1",
    + "SELECT * FROM roles WHERE id = $1",
      [999],

    Number of calls: 1

    [0m [90m 94 |[39m
     [90m 95 |[39m       expect(result)[33m.[39mtoBeUndefined()[33m;[39m
    [31m[1m>[22m[39m[90m 96 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1"[39m[33m,[39m
     [90m 98 |[39m         [[35m999[39m][33m,[39m
     [90m 99 |[39m       )[33m;[39m[0m

      at Object.toHaveBeenCalledWith (__tests__/unit/models/Role.crud.test.js:96:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ getByName() ‚Ä∫ should return role by name (case-sensitive query)

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE name = $1",
    + "SELECT * FROM roles WHERE name = $1",
      ["admin"],

    Number of calls: 1

    [0m [90m 130 |[39m
     [90m 131 |[39m       expect(result)[33m.[39mtoEqual(mockRole)[33m;[39m
    [31m[1m>[22m[39m[90m 132 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 133 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE name = $1"[39m[33m,[39m
     [90m 134 |[39m         [[32m"admin"[39m][33m,[39m
     [90m 135 |[39m       )[33m;[39m[0m

      at Object.toHaveBeenCalledWith (__tests__/unit/models/Role.crud.test.js:132:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ update() ‚Ä∫ should update role name successfully

    expect(jest.fn()).toHaveBeenNthCalledWith(n, ...expected)

    n: 1
    Expected: "SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1", [4]
    Received
    ->     1
              "SELECT * FROM roles WHERE id = $1",
              [4],
           2: "
            UPDATE roles¬∑
            SET name = $1
            WHERE id = $2
            RETURNING *
          ", ["senior_dispatcher", 4]

    Number of calls: 2

    [0m [90m 233 |[39m       expect(result)[33m.[39mtoEqual(updatedRole)[33m;[39m
     [90m 234 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 235 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenNthCalledWith(
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 236 |[39m         [35m1[39m[33m,[39m
     [90m 237 |[39m         [32m"SELECT id, name, priority, description, is_active, created_at, updated_at FROM roles WHERE id = $1"[39m[33m,[39m
     [90m 238 |[39m         [[35m4[39m][33m,[39m[0m

      at Object.toHaveBeenNthCalledWith (__tests__/unit/models/Role.crud.test.js:235:24)

  ‚óè Role Model - CRUD Operations ‚Ä∫ delete() ‚Ä∫ should delete unprotected role with no assigned users

    expect(jest.fn()).toHaveBeenNthCalledWith(n, ...expected)

    n: 3
    Expected: "DELETE FROM roles WHERE id = $1 RETURNING id, name", [4]
    Received
           2: "SELECT COUNT(*) as count FROM users WHERE role_id = $1", [4]
    ->     3
              "DELETE FROM roles WHERE id = $1 RETURNING *",
              [4],

    Number of calls: 3

    [0m [90m 387 |[39m         [[35m4[39m][33m,[39m
     [90m 388 |[39m       )[33m;[39m
    [31m[1m>[22m[39m[90m 389 |[39m       expect(db[33m.[39mquery)[33m.[39mtoHaveBeenNthCalledWith(
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 390 |[39m         [35m3[39m[33m,[39m
     [90m 391 |[39m         [32m"DELETE FROM roles WHERE id = $1 RETURNING id, name"[39m[33m,[39m
     [90m 392 |[39m         [[35m4[39m][33m,[39m[0m

      at Object.toHaveBeenNthCalledWith (__tests__/unit/models/Role.crud.test.js:389:24)


Test Suites: 1 failed, 49 passed, 50 total
Tests:       5 failed, 1018 passed, 1023 total
Snapshots:   0 total
Time:        43.796 s
Ran all test suites in 2 projects.
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path C:\Users\zarik\OneDrive\Desktop\TrossApp\backend
npm error workspace backend@1.0.0
npm error location C:\Users\zarik\OneDrive\Desktop\TrossApp\backend
npm error command failed
npm error command C:\WINDOWS\system32\cmd.exe /d /s /c jest
